(function(k){k.effects.effect.explode=function(e,t){function u(){m.push(this);m.length===f*l&&(a.css({visibility:"visible"}),k(m).remove(),b||a.hide(),t())}var c,d,n,p,q,r,f=e.pieces?Math.round(Math.sqrt(e.pieces)):3,l=f,a=k(this),b="show"===k.effects.setMode(a,e.mode||"hide"),s=a.show().css("visibility","hidden").offset(),g=Math.ceil(a.outerWidth()/l),h=Math.ceil(a.outerHeight()/f),m=[];for(c=0;f>c;c++)for(p=s.top+c*h,r=c-(f-1)/2,d=0;l>d;d++)n=s.left+d*g,q=d-(l-1)/2,a.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",
visibility:"visible",left:-d*g,top:-c*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:h,left:n+(b?q*g:0),top:p+(b?r*h:0),opacity:b?0:1}).animate({left:n+(b?0:q*g),top:p+(b?0:r*h),opacity:b?1:0},e.duration||500,e.easing,u)}})(jQuery);
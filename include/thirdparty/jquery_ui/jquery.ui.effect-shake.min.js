(function(d){d.effects.effect.shake=function(b,s){var e,a=d(this),m="position top bottom left right height width".split(" "),t=d.effects.setMode(a,b.mode||"effect"),c=b.direction||"left";e=b.distance||20;var n=b.times||3,p=2*n+1,f=Math.round(b.duration/p),h="up"===c||"down"===c?"top":"left",k="up"===c||"left"===c,c={},l={},q={},g=a.queue(),r=g.length;d.effects.save(a,m);a.show();d.effects.createWrapper(a);c[h]=(k?"-=":"+=")+e;l[h]=(k?"+=":"-=")+2*e;q[h]=(k?"-=":"+=")+2*e;a.animate(c,f,b.easing);for(e=
1;n>e;e++)a.animate(l,f,b.easing).animate(q,f,b.easing);a.animate(l,f,b.easing).animate(c,f/2,b.easing).queue(function(){"hide"===t&&a.hide();d.effects.restore(a,m);d.effects.removeWrapper(a);s()});1<r&&g.splice.apply(g,[1,0].concat(g.splice(r,p+1)));a.dequeue()}})(jQuery);
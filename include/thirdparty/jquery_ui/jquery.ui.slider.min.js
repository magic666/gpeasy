(function(d){d.widget("ui.slider",d.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var a,b;a=this.options;var c=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];b=a.values&&a.values.length||1;c.length>b&&(c.slice(b).remove(),c=c.slice(0,b));for(a=c.length;b>a;a++)e.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=c.add(d(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(a){d(this).data("ui-slider-handle-index",a)})},_createRange:function(){var a=this.options,b="";a.range?(!0===a.range&&(a.values?a.values.length&&2!==a.values.length?a.values=[a.values[0],a.values[0]]:d.isArray(a.values)&&(a.values=a.values.slice(0)):a.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=d("<div></div>").appendTo(this.element),b="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(b+("min"===a.range||"max"===a.range?" ui-slider-range-"+a.range:""))):this.range=d([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(a){var b,c,e,f,g,k,h,l,m=this,n=this.options;return n.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(a){var b=Math.abs(c-m.values(a));(e>b||e===b&&(a===m._lastChangedValue||m.values(a)===n.min))&&(e=b,f=d(this),g=a)}),k=this._start(a,g),!1===k?!1:
(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),h=f.offset(),l=!d(a.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:a.pageX-h.left-f.width()/2,top:a.pageY-h.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(a,g,c),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,b),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,e,d,g;return"horizontal"===
this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=c/b,1<e&&(e=1),0>e&&(e=0),"vertical"===this.orientation&&(e=1-e),d=this._valueMax()-this._valueMin(),g=this._valueMin()+e*d,this._trimAlignValue(g)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=
this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,f,g;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(f=this.values(),f[b]=c,g=this._trigger("slide",a,{handle:this.handles[b],value:c,values:f}),this.values(b?0:1),!1!==g&&this.values(b,c,!0))):c!==this.value()&&(g=this._trigger("slide",a,{handle:this.handles[b],value:c}),!1!==
g&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._lastChangedValue=b;this._trigger("change",a,c)}},value:function(a){return arguments.length?
(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(a,b){var c,e,f;if(1<arguments.length)return this.options.values[a]=this._trimAlignValue(b),this._refreshValue(),this._change(null,a),void 0;if(!arguments.length)return this._values();if(!d.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(a):this.value();c=this.options.values;e=arguments[0];for(f=0;c.length>f;f+=1)c[f]=this._trimAlignValue(e[f]),
this._change(null,f);this._refreshValue()},_setOption:function(a,b){var c,e=0;switch("range"===a&&!0===this.options.range&&("min"===b?(this.options.value=this._values(0),this.options.values=null):"max"===b&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),d.isArray(this.options.values)&&(e=this.options.values.length),d.Widget.prototype._setOption.apply(this,arguments),a){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(c=0;e>c;c+=1)this._change(null,c);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var b,
c;if(arguments.length)return b=this.options.values[a],this._trimAlignValue(b);if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(c=0;b.length>c;c+=1)b[c]=this._trimAlignValue(b[c]);return b}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,c=(a-this._valueMin())%b;a-=c;return 2*Math.abs(c)>=b&&(a+=0<c?b:-b),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var a,b,c,e,f,g=this.options.range,k=this.options,h=this,l=this._animateOff?!1:k.animate,m={};this.options.values&&this.options.values.length?this.handles.each(function(c){b=100*((h.values(c)-h._valueMin())/(h._valueMax()-h._valueMin()));m["horizontal"===h.orientation?"left":"bottom"]=b+"%";d(this).stop(1,1)[l?"animate":"css"](m,k.animate);!0===h.options.range&&("horizontal"===h.orientation?(0===c&&h.range.stop(1,1)[l?"animate":
"css"]({left:b+"%"},k.animate),1===c&&h.range[l?"animate":"css"]({width:b-a+"%"},{queue:!1,duration:k.animate})):(0===c&&h.range.stop(1,1)[l?"animate":"css"]({bottom:b+"%"},k.animate),1===c&&h.range[l?"animate":"css"]({height:b-a+"%"},{queue:!1,duration:k.animate})));a=b}):(c=this.value(),e=this._valueMin(),f=this._valueMax(),b=f!==e?(c-e)/(f-e)*100:0,m["horizontal"===this.orientation?"left":"bottom"]=b+"%",this.handle.stop(1,1)[l?"animate":"css"](m,k.animate),"min"===g&&"horizontal"===this.orientation&&
this.range.stop(1,1)[l?"animate":"css"]({width:b+"%"},k.animate),"max"===g&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-b+"%"},{queue:!1,duration:k.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:b+"%"},k.animate),"max"===g&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-b+"%"},{queue:!1,duration:k.animate}))},_handleEvents:{keydown:function(a){var b,c,e,f=d(a.target).data("ui-slider-handle-index");
switch(a.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(a.preventDefault(),!this._keySliding&&(this._keySliding=!0,d(a.target).addClass("ui-state-active"),b=this._start(a,f),!1===b))return}switch(e=this.options.step,b=c=this.options.values&&this.options.values.length?this.values(f):this.value(),a.keyCode){case d.ui.keyCode.HOME:c=this._valueMin();
break;case d.ui.keyCode.END:c=this._valueMax();break;case d.ui.keyCode.PAGE_UP:c=this._trimAlignValue(b+(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(b-(this._valueMax()-this._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(b===this._valueMax())return;c=this._trimAlignValue(b+e);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(b===this._valueMin())return;c=this._trimAlignValue(b-e)}this._slide(a,f,c)},click:function(a){a.preventDefault()},
keyup:function(a){var b=d(a.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(a,b),this._change(a,b),d(a.target).removeClass("ui-state-active"))}}})})(jQuery);
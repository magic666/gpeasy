(function(e){function p(a){return parseInt(a,10)||0}function l(a){return!isNaN(parseInt(a,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var a,b,d,f,h,c=this,g=this.options;if(this.element.addClass("ui-resizable"),
e.extend(this,{_aspectRatio:!!g.aspectRatio,aspectRatio:g.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:g.helper||g.ghost||g.animate?g.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=g.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),a=this.handles.split(","),this.handles={},b=0;a.length>b;b++)d=e.trim(a[b]),h="ui-resizable-"+d,f=e("<div class='ui-resizable-handle "+h+"'></div>"),f.css({zIndex:g.zIndex}),"se"===d&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(f);this._renderAxis=function(a){var b,c,d,f;a=a||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=e(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(c=e(this.handles[b],this.element),f=/sw|ne|nw|se|n|s/.test(b)?c.outerHeight():c.outerWidth(),d=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),a.css(d,f),this._proportionallyResize()),e(this.handles[b]).length};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){c.resizing||(this.className&&(f=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),c.axis=f&&f[1]?f[1]:"se")});g.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){g.disabled||(e(this).removeClass("ui-resizable-autohide"),c._handles.show())}).mouseleave(function(){g.disabled||c.resizing||(e(this).addClass("ui-resizable-autohide"),c._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var a,b=function(a){e(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),a=this.element,this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),
this},_mouseCapture:function(a){var b,d,f=!1;for(b in this.handles)d=e(this.handles[b])[0],(d===a.target||e.contains(d,a.target))&&(f=!0);return!this.options.disabled&&f},_mouseStart:function(a){var b,d,f,h=this.options,c=this.element.position(),g=this.element;return this.resizing=!0,/absolute/.test(g.css("position"))?g.css({position:"absolute",top:g.css("top"),left:g.css("left")}):g.is(".ui-draggable")&&g.css({position:"absolute",top:c.top,left:c.left}),this._renderProxy(),b=p(this.helper.css("left")),
d=p(this.helper.css("top")),h.containment&&(b+=e(h.containment).scrollLeft()||0,d+=e(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:d},this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()},this.originalPosition={left:b,top:d},this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-
g.height()},this.originalMousePosition={left:a.pageX,top:a.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===f?this.axis+"-resize":f),g.addClass("ui-resizable-resizing"),this._propagate("start",a),!0},_mouseDrag:function(a){var b,d=this.helper,f={},h=this.originalMousePosition,c=this.position.top,g=this.position.left,k=this.size.width,m=this.size.height,
n=a.pageX-h.left||0,h=a.pageY-h.top||0,q=this._change[this.axis];return q?(b=q.apply(this,[a,n,h]),this._updateVirtualBoundaries(a.shiftKey),(this._aspectRatio||a.shiftKey)&&(b=this._updateRatio(b,a)),b=this._respectSize(b,a),this._updateCache(b),this._propagate("resize",a),this.position.top!==c&&(f.top=this.position.top+"px"),this.position.left!==g&&(f.left=this.position.left+"px"),this.size.width!==k&&(f.width=this.size.width+"px"),this.size.height!==m&&(f.height=this.size.height+"px"),d.css(f),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(f)||this._trigger("resize",a,this.ui()),!1):!1},_mouseStop:function(a){this.resizing=!1;var b,d,f,h,c,g,k,m=this.options;return this._helper&&(b=this._proportionallyResizeElements,d=b.length&&/textarea/i.test(b[0].nodeName),f=d&&e.ui.hasScroll(b[0],"left")?0:this.sizeDiff.height,h=d?0:this.sizeDiff.width,c={width:this.helper.width()-h,height:this.helper.height()-f},g=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,k=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,m.animate||this.element.css(e.extend(c,{top:k,left:g})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!m.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",a),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
d,f,e,c;c=this.options;c={minWidth:l(c.minWidth)?c.minWidth:0,maxWidth:l(c.maxWidth)?c.maxWidth:1/0,minHeight:l(c.minHeight)?c.minHeight:0,maxHeight:l(c.maxHeight)?c.maxHeight:1/0};(this._aspectRatio||a)&&(b=c.minHeight*this.aspectRatio,f=c.minWidth/this.aspectRatio,d=c.maxHeight*this.aspectRatio,e=c.maxWidth/this.aspectRatio,b>c.minWidth&&(c.minWidth=b),f>c.minHeight&&(c.minHeight=f),c.maxWidth>d&&(c.maxWidth=d),c.maxHeight>e&&(c.maxHeight=e));this._vBoundaries=c},_updateCache:function(a){this.offset=
this.helper.offset();l(a.left)&&(this.position.left=a.left);l(a.top)&&(this.position.top=a.top);l(a.height)&&(this.size.height=a.height);l(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,f=this.axis;return l(a.height)?a.width=a.height*this.aspectRatio:l(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===f&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===f&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,d=this.axis,f=l(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=l(a.height)&&b.maxHeight&&b.maxHeight<a.height,c=l(a.width)&&b.minWidth&&b.minWidth>a.width,g=l(a.height)&&b.minHeight&&b.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(d),d=/nw|ne|n/.test(d);return c&&(a.width=b.minWidth),g&&(a.height=b.minHeight),f&&(a.width=b.maxWidth),e&&(a.height=b.maxHeight),c&&n&&(a.left=k-b.minWidth),f&&n&&(a.left=k-b.maxWidth),
g&&d&&(a.top=m-b.minHeight),e&&d&&(a.top=m-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,d,f,e,c=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],d=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],
f=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;d.length>b;b++)this.borderDif[b]=(parseInt(d[b],10)||0)+(parseInt(f[b],10)||0);e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var a=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(a,b,d){return{height:this.originalSize.height+
d}},se:function(a,b,d){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[a,b,d]))},sw:function(a,b,d){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[a,b,d]))},ne:function(a,b,d){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[a,b,d]))},nw:function(a,b,d){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[a,b,d]))}},_propagate:function(a,b){e.ui.plugin.call(this,a,[b,this.ui()]);
"resize"!==a&&this._trigger(a,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.ui.plugin.add("resizable","animate",{stop:function(a){var b=e(this).data("ui-resizable"),d=b.options,f=b._proportionallyResizeElements,h=f.length&&/textarea/i.test(f[0].nodeName),c=h&&e.ui.hasScroll(f[0],"left")?0:b.sizeDiff.height,h=
{width:b.size.width-(h?0:b.sizeDiff.width),height:b.size.height-c},c=parseInt(b.element.css("left"),10)+(b.position.left-b.originalPosition.left)||null,g=parseInt(b.element.css("top"),10)+(b.position.top-b.originalPosition.top)||null;b.element.animate(e.extend(h,g&&c?{top:g,left:c}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var c={width:parseInt(b.element.css("width"),10),height:parseInt(b.element.css("height"),10),top:parseInt(b.element.css("top"),10),left:parseInt(b.element.css("left"),
10)};f&&f.length&&e(f[0]).css({width:c.width,height:c.height});b._updateCache(c);b._propagate("resize",a)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var a,b,d,f,h,c,g,k=e(this).data("ui-resizable"),m=k.element,n=k.options.containment;(m=n instanceof e?n.get(0):/parent/.test(n)?m.parent().get(0):n)&&(k.containerElement=e(m),/document/.test(n)||n===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:e(document),left:0,top:0,width:e(document).width(),
height:e(document).height()||document.body.parentNode.scrollHeight}):(a=e(m),b=[],e(["Top","Right","Left","Bottom"]).each(function(c,d){b[c]=p(a.css("padding"+d))}),k.containerOffset=a.offset(),k.containerPosition=a.position(),k.containerSize={height:a.innerHeight()-b[3],width:a.innerWidth()-b[1]},d=k.containerOffset,f=k.containerSize.height,h=k.containerSize.width,c=e.ui.hasScroll(m,"left")?m.scrollWidth:h,g=e.ui.hasScroll(m)?m.scrollHeight:f,k.parentData={element:m,left:d.left,top:d.top,width:c,
height:g}))},resize:function(a){var b,d,f,h,c=e(this).data("ui-resizable");b=c.options;d=c.containerOffset;f=c.position;a=c._aspectRatio||a.shiftKey;h={top:0,left:0};var g=c.containerElement;g[0]!==document&&/static/.test(g.css("position"))&&(h=d);f.left<(c._helper?d.left:0)&&(c.size.width+=c._helper?c.position.left-d.left:c.position.left-h.left,a&&(c.size.height=c.size.width/c.aspectRatio),c.position.left=b.helper?d.left:0);f.top<(c._helper?d.top:0)&&(c.size.height+=c._helper?c.position.top-d.top:
c.position.top,a&&(c.size.width=c.size.height*c.aspectRatio),c.position.top=c._helper?d.top:0);c.offset.left=c.parentData.left+c.position.left;c.offset.top=c.parentData.top+c.position.top;b=Math.abs(c.offset.left-h.left+c.sizeDiff.width);d=Math.abs((c._helper?c.offset.top-h.top:c.offset.top-d.top)+c.sizeDiff.height);f=c.containerElement.get(0)===c.element.parent().get(0);h=/relative|absolute/.test(c.containerElement.css("position"));f&&h&&(b-=c.parentData.left);b+c.size.width>=c.parentData.width&&
(c.size.width=c.parentData.width-b,a&&(c.size.height=c.size.width/c.aspectRatio));d+c.size.height>=c.parentData.height&&(c.size.height=c.parentData.height-d,a&&(c.size.width=c.size.height*c.aspectRatio))},stop:function(){var a=e(this).data("ui-resizable"),b=a.options,d=a.containerOffset,f=a.containerPosition,h=a.containerElement,c=e(a.helper),g=c.offset(),k=c.outerWidth()-a.sizeDiff.width,c=c.outerHeight()-a.sizeDiff.height;a._helper&&!b.animate&&/relative/.test(h.css("position"))&&e(this).css({left:g.left-
f.left-d.left,width:k,height:c});a._helper&&!b.animate&&/static/.test(h.css("position"))&&e(this).css({left:g.left-f.left-d.left,width:k,height:c})}});e.ui.plugin.add("resizable","alsoResize",{start:function(){var a=e(this).data("ui-resizable").options,b=function(a){e(a).each(function(){var a=e(this);a.data("ui-resizable-alsoresize",{width:parseInt(a.width(),10),height:parseInt(a.height(),10),left:parseInt(a.css("left"),10),top:parseInt(a.css("top"),10)})})};"object"!=typeof a.alsoResize||a.alsoResize.parentNode?
b(a.alsoResize):a.alsoResize.length?(a.alsoResize=a.alsoResize[0],b(a.alsoResize)):e.each(a.alsoResize,function(a){b(a)})},resize:function(a,b){var d=e(this).data("ui-resizable"),f=d.options,h=d.originalSize,c=d.originalPosition,g={height:d.size.height-h.height||0,width:d.size.width-h.width||0,top:d.position.top-c.top||0,left:d.position.left-c.left||0},k=function(a,c){e(a).each(function(){var a=e(this),d=e(this).data("ui-resizable-alsoresize"),f={},h=c&&c.length?c:a.parents(b.originalElement[0]).length?
["width","height"]:["width","height","top","left"];e.each(h,function(a,b){var c=(d[b]||0)+(g[b]||0);c&&0<=c&&(f[b]=c||null)});a.css(f)})};"object"!=typeof f.alsoResize||f.alsoResize.nodeType?k(f.alsoResize):e.each(f.alsoResize,function(a,b){k(a,b)})},stop:function(){e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","ghost",{start:function(){var a=e(this).data("ui-resizable"),b=a.options,d=a.size;a.ghost=a.originalElement.clone();a.ghost.css({opacity:0.25,display:"block",position:"relative",
height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:"");a.ghost.appendTo(a.helper)},resize:function(){var a=e(this).data("ui-resizable");a.ghost&&a.ghost.css({position:"relative",height:a.size.height,width:a.size.width})},stop:function(){var a=e(this).data("ui-resizable");a.ghost&&a.helper&&a.helper.get(0).removeChild(a.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var a=e(this).data("ui-resizable"),
b=a.options,d=a.size,f=a.originalSize,h=a.originalPosition,c=a.axis,g="number"==typeof b.grid?[b.grid,b.grid]:b.grid,k=g[0]||1,m=g[1]||1,n=Math.round((d.width-f.width)/k)*k,d=Math.round((d.height-f.height)/m)*m,l=f.width+n,f=f.height+d,p=b.maxWidth&&l>b.maxWidth,r=b.maxHeight&&f>b.maxHeight,s=b.minWidth&&b.minWidth>l,t=b.minHeight&&b.minHeight>f;b.grid=g;s&&(l+=k);t&&(f+=m);p&&(l-=k);r&&(f-=m);/^(se|s|e)$/.test(c)?(a.size.width=l,a.size.height=f):/^(ne)$/.test(c)?(a.size.width=l,a.size.height=f,a.position.top=
h.top-d):/^(sw)$/.test(c)?(a.size.width=l,a.size.height=f,a.position.left=h.left-n):(a.size.width=l,a.size.height=f,a.position.top=h.top-d,a.position.left=h.left-n)}})})(jQuery);
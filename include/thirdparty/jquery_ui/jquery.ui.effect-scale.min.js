(function(b){b.effects.effect.puff=function(d,r){var e=b(this),f=b.effects.setMode(e,d.mode||"hide"),g="hide"===f,k=parseInt(d.percent,10)||150,c=k/100,h={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};b.extend(d,{effect:"scale",queue:!1,fade:!0,mode:f,complete:r,percent:g?k:100,from:g?h:{height:h.height*c,width:h.width*c,outerHeight:h.outerHeight*c,outerWidth:h.outerWidth*c}});e.effect(d)};b.effects.effect.scale=function(d,r){var e=b(this),f=b.extend(!0,
{},d),g=b.effects.setMode(e,d.mode||"effect"),k=parseInt(d.percent,10)||(0===parseInt(d.percent,10)?0:"hide"===g?0:100),c=d.direction||"both",h=d.origin,a={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()},s="horizontal"!==c?k/100:1,k="vertical"!==c?k/100:1;f.effect="size";f.queue=!1;f.complete=r;"effect"!==g&&(f.origin=h||["middle","center"],f.restore=!0);f.from=d.from||("show"===g?{height:0,width:0,outerHeight:0,outerWidth:0}:a);f.to={height:a.height*s,width:a.width*
k,outerHeight:a.outerHeight*s,outerWidth:a.outerWidth*k};f.fade&&("show"===g&&(f.from.opacity=0,f.to.opacity=1),"hide"===g&&(f.from.opacity=1,f.to.opacity=0));e.effect(f)};b.effects.effect.size=function(d,r){var e,f,g,k,c,h,a=b(this),s="position top bottom left right width height overflow opacity".split(" ");c="position top bottom left right overflow opacity".split(" ");var t=["width","height","overflow"],u=["fontSize"],m=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=["borderLeftWidth",
"borderRightWidth","paddingLeft","paddingRight"],p=b.effects.setMode(a,d.mode||"effect"),v=d.restore||"effect"!==p,q=d.scale||"both",x=d.origin||["middle","center"],y=a.css("position"),l=v?s:c,w={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show();c={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()};"toggle"===d.mode&&"show"===p?(a.from=d.to||w,a.to=d.from||c):(a.from=d.from||("show"===p?w:c),a.to=d.to||("hide"===p?w:c));g=a.from.height/c.height;
k=a.from.width/c.width;e=a.to.height/c.height;f=a.to.width/c.width;("box"===q||"both"===q)&&(g!==e&&(l=l.concat(m),a.from=b.effects.setTransition(a,m,g,a.from),a.to=b.effects.setTransition(a,m,e,a.to)),k!==f&&(l=l.concat(n),a.from=b.effects.setTransition(a,n,k,a.from),a.to=b.effects.setTransition(a,n,f,a.to)));("content"===q||"both"===q)&&g!==e&&(l=l.concat(u).concat(t),a.from=b.effects.setTransition(a,u,g,a.from),a.to=b.effects.setTransition(a,u,e,a.to));b.effects.save(a,l);a.show();b.effects.createWrapper(a);
a.css("overflow","hidden").css(a.from);x&&(h=b.effects.getBaseline(x,c),a.from.top=(c.outerHeight-a.outerHeight())*h.y,a.from.left=(c.outerWidth-a.outerWidth())*h.x,a.to.top=(c.outerHeight-a.to.outerHeight)*h.y,a.to.left=(c.outerWidth-a.to.outerWidth)*h.x);a.css(a.from);"content"!==q&&"both"!==q||(m=m.concat(["marginTop","marginBottom"]).concat(u),n=n.concat(["marginLeft","marginRight"]),t=s.concat(m).concat(n),a.find("*[width]").each(function(){var a=b(this),c=a.height(),h=a.width(),l=a.outerHeight(),
p=a.outerWidth();v&&b.effects.save(a,t);a.from={height:c*g,width:h*k,outerHeight:l*g,outerWidth:p*k};a.to={height:c*e,width:h*f,outerHeight:c*e,outerWidth:h*f};g!==e&&(a.from=b.effects.setTransition(a,m,g,a.from),a.to=b.effects.setTransition(a,m,e,a.to));k!==f&&(a.from=b.effects.setTransition(a,n,k,a.from),a.to=b.effects.setTransition(a,n,f,a.to));a.css(a.from);a.animate(a.to,d.duration,d.easing,function(){v&&b.effects.restore(a,t)})}));a.animate(a.to,{queue:!1,duration:d.duration,easing:d.easing,
complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity);"hide"===p&&a.hide();b.effects.restore(a,l);v||("static"===y?a.css({position:"relative",top:a.to.top,left:a.to.left}):b.each(["top","left"],function(b,c){a.css(c,function(c,d){var f=parseInt(d,10),e=b?a.to.left:a.to.top;return"auto"===d?e+"px":f+e+"px"})}));b.effects.removeWrapper(a);r()}})}})(jQuery);